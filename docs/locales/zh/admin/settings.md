# 管理设置面板

GoToSocial 管理设置面板使用 [管理 API](https://docs.gotosocial.org/zh-cn/latest/api/swagger/#operations-tag-admin) 来管理你的实例。它与 [用户设置面板](../user_guide/settings.md) 结合使用，并采用与普通客户端相同的 OAuth 机制（范围：admin）。

## 设置管理员账户权限和登录

要使用管理设置面板，你的账户必须被提升为管理员：

```bash
./gotosocial --config-path ./config.yaml admin account promote --username 你的用户名
```

为了使提权生效，可能需要在运行命令后重启你的实例。

之后，你可以访问 `https://[your-instance-name.org]/settings`，在登录字段中输入你的域名，然后像使用其他客户端一样登录。现在，你应该可以看到管理设置。

## 管理

实例管理设置。

### 举报

![一个展示未解决举报的举报列表。](../public/admin-settings-reports.png)

举报部分显示来自本站用户或外站（匿名显示，仅显示实例名称，不显示具体用户名）的举报列表。

点击举报可以查看其是否已解决（若有理由则显示），更多信息，以及由举报用户选定的被举报贴文列表。你也可以在此视图中将举报标记为已解决，并填写评论。如果该用户来自你的实例，你在此处输入的任何评论都会对创建举报的用户可见。

![待处理的举报的详细视图，显示被举报的贴文和举报理由。](../public/admin-settings-report-detail.png)

点击被举报账户的用户名会在“账户”视图中打开该账户，从而允许你对其执行管理操作。

### 账户

你可以使用此部分搜索账户并对其执行管理操作。

### 联合

![已封禁实例列表，有一个字段用于过滤/添加新的屏蔽。下面是批量导入/导出界面的链接](../public/admin-settings-federation.png)

在联合部分，你可以创建、删除和审核明确的域名屏蔽和域名允许。

关于联合设置的更多详细信息，特别是域名允许和域名屏蔽如何结合使用，请参阅 [联合模式部分](./federation_modes.md) 和 [域名屏蔽部分](./domain_blocks.md)。

#### 域名屏蔽

你可以在搜索字段中输入一个要封禁的域名，这将过滤列表以显示你是否已有该域名的屏蔽条目。

点击“封禁”会显示一个表单，允许你添加公开和/或私人评论，并提交以添加屏蔽。添加封禁后，该实例上的所有已知账户将被封禁，并阻止与该被屏蔽实例上的任何用户的新互动。

#### 域名允许

域名允许部分的工作方式与域名屏蔽部分类似，只是用于明确的域名允许而不是域名屏蔽。

#### 批量导入/导出

通过联合部分底部的链接（或访问 `/settings/admin/federation/import-export`），你可以批量导入/导出屏蔽列表和允许列表。

![导入中包含的域列表，提供选择某些或全部域的方法，更改其域，以及更新子域使用方法。](../public/admin-settings-federation-import-export.png)

通过输入字段或文件导入列表后，你可以在导入子集之前查看列表中的条目。你还会在使用子域的条目中收到警告，此处还提供一种轻松将其更改为主域的方法。

## 管理

实例管理设置。

### 操作

运行一次性管理操作。

#### 电子邮件

你可以使用此部分向指定的电子邮件地址发送测试邮件，并附加可选的测试信息。

#### 媒体

你可以使用此部分运行清理外站媒体缓存的操作，可以指定天数。超过指定天数的媒体将从存储中删除（s3 或本地）。以这种方式删除的媒体将未来需要时重新尝试获取。此操作在功能上与自动运行的媒体清理相同。

#### 密钥

你可以使用此部分使来自特定外站实例的公钥过期/失效。下次你的实例收到使用过期密钥的签名请求时，它将尝试重新获取和存储公钥。

### 自定义表情

包含在外站贴文中的自定义表情将自动获取，但要在你的帖子中使用它们，必须在你的实例上启用。

#### 本站

![本站自定义表情部分，显示按类别排序的自定义表情概览。有很多加菲猫表情。](../public/admin-settings-emoji-local.png)

此部分显示你的实例上启用的所有自定义表情的概览，按类别排序。点击某个表情可显示其详细信息，并提供更改类别或图像的选项，或完全删除它。这里无法更新短代码，你需要自己上传带有新短代码的表情（可以选择删除旧的表情）。

在概览下方，你可以在预览表情在贴文中的效果后上传自己的自定义表情。支持 PNG 和（动画）GIF 格式。

#### 外站

![外站自定义表情部分，显示从输入的贴文中解析的 3 个表情的列表： blobcat、blobfoxbox 和 blobhajmlem。可以选择它们，微调短代码，并在提交复制或删除操作前为其分配类别](../public/admin-settings-emoji-remote.png)

通过“外站”部分，你可以查找任何外站贴文的链接（前提是该实例未被封禁）。如果使用了任何自定义表情，它们将被列出，这样就提供了一种轻松复制到本站表情的方法（供你自己在贴文中使用），或者也可以禁止它们（从贴文中隐藏）。

**注意：**由于 testrig 服务器未进行联合，此功能在开发过程中无法使用（500：内部服务器错误）。

### 实例设置

![GoToSocial 管理面板的截图，显示了更改实例设置的字段](../public/admin-settings-instance.png)

在这里，你可以为你的实例设置各种元数据，如显示名称/标题、缩略图、（简短）描述和联系信息。

#### 实例外观

这些设置主要影响你的实例在网络和他人眼中的显示方式。

你的 **实例标题** 将显示在你实例每个网页的顶部，并在 OpenGraph 元标签中出现，所以选择一个能代表你实例氛围的名称。

**实例头像** 类似于你实例的吉祥物。它将出现在每个网页顶上的实例标题旁边，并作为浏览器标签、OpenGraph 链接等的预览图像。

如果你设置了实例头像，我们强烈建议同时设置 **头像描述**。这将为你设置为头像的图片提供替代文字，帮助屏幕阅读器用户理解图片中描绘的内容。替代文本应保持简短明了。

#### 实例描述

你可以使用这些字段设置实例的简短和完整描述，并为当前和潜在用户提供实例使用条款。

**简短描述** 将显示在实例主页的顶部附近，以及响应 `/api/v1/instance` 查询时显示。

可以提供一些精辟的内容，以便访问你的实例的访客对你的实例有一个第一印象。例如：

> 这是一个 ACG 爱好者的实例！
>
> 不管磕什么都可以来注册。

或者：

> 这是一个单用户实例，只属于我！
>
> 这是我的主页：@your_username

**完整描述** 将显示在你的实例的 /about 页面上，并在响应 `/api/v1/instance` 查询时显示。

你可以用它来提供如下信息：

- 你的实例的历史、理念、态度和氛围
- 你实例上的居民倾向于发布的内容类型
- 如何在你的实例上获得账户（如果可能的话）
- 一个拥有账户的用户列表，希望更容易被找到

**使用条款** 框也会出现在你的实例的 /about 页面上，并在响应 `/api/v1/instance` 查询时显示。

用它来填写如下内容：

- 法律术语（版权、GDPR 或相关链接）
- 联合政策
- 数据政策
- 账户删除/封禁政策

以上所有字段都接受 **markdown** 输入，因此你可以编写合适的列表、代码块、水平线、引用块或任何你喜欢的内容。

你也可以使用标准 `@user[@domain]` 格式提及账户。

查看 [markdown 速查表](https://markdownguide.offshoot.io/cheat-sheet/) 以了解可以做些什么。

### 实例联系信息

在此部分中，你可以向访问你实例的用户提供一种方便的方法，以联系你的实例管理员。

设置好的联系人账户和/或电子邮件地址的链接将出现在实例的每个网页底部、/about 页面的“联系”部分，以及响应 `/api/v1/instance` 查询时显示。

选择的 **联系人用户** 必须是实例上的活跃（未封禁）的管理员和/或站务。

如果你是在单用户实例上并将管理员权限授予你的主账户，你只需在此处填写自己的用户名即可；无需为此专门创建管理账户。
