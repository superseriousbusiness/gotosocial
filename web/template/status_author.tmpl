{{- /*
// GoToSocial
// Copyright (C) GoToSocial Authors admin@gotosocial.org
// SPDX-License-Identifier: AGPL-3.0-or-later
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU Affero General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU Affero General Public License for more details.
//
// You should have received a copy of the GNU Affero General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/ -}}

{{- define "displayName" -}}
    {{- if .DisplayName -}}
        {{- emojify .Emojis (escape .DisplayName) -}}
    {{- else -}}
        {{- .Username -}}
    {{- end -}}
{{- end -}}

{{- with .Account }}
<h4 class="sr-only">Post by</h4>
<address>
    <a rel="author" href="{{- .URL -}}">
        <img
            class="avatar"
            aria-hidden="true"
            src="{{- .Avatar -}}"
            alt=""
            loading="lazy"
        >
        <dl class="author-strap">
            <dt class="sr-only">Display name</dt>
            <dl class="displayname text-cutoff">{{- template "displayName" . -}}</dl>
            <dt class="sr-only">Username</dt>
            <dl class="username text-cutoff">@{{- .Username -}}</dl>
        </dl>
    </a>
</address>
{{- end }}